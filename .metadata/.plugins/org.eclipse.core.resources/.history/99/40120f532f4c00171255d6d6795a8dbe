package ch.it.bzz.coolshoes.view;

// External Semiautomatic Defibrillator
   import java.awt.*;
   import javax.swing.*;
   import javax.swing.border.*;
   import java.util.GregorianCalendar.*;
   import java.text.DateFormat.*;
   import java.awt.event.*;
     
   public class EsdGUI extends JFrame {
         
        //Alcune variabili
         
        int shocksCounter360 = 0;
        boolean shocksCounter200 = false;
        boolean shockDone = false;
        //Dichiaro alcuni JTextField per i dati del paziente           
            JTextField name, surname;
        JFormattedTextField birthDate;
        java.text.DateFormat formatoData =
                new java.text.SimpleDateFormat("dd/mm/yyyy");
        //Dichiaro i pulsanti
        JButton c200, c360, charge, release, print, reset;
        //Creo il display
        JLabel display;
        //aritmia label
        JLabel arithmia = new JLabel();
        //Creo i radio buttons
            JRadioButton rs, fv, tv, male, female;
        //Dichiaro pulsante toggle
        JToggleButton polso = new JToggleButton(
                "No Arterious Pressure");
        //Dichiaro la ProgressBar       
        JProgressBar pbar = new JProgressBar();
        //Pannelli
        JPanel r1 = new JPanel();
        JPanel p1 = new JPanel();
        JPanel p3 = new JPanel();
         
         
    // CONSTRUCTOR
    public EsdGUI() {
        super("D.E.S.");
         
        EsdActions handler = new EsdActions();
        ItemHandler itemhandler = new ItemHandler();
         
        release.addActionListener(handler);
        print.addActionListener(handler);
        tv.addActionListener(handler);
        polso.addItemListener(itemhandler); 
        rs.addActionListener(handler); 
        fv.addActionListener(handler);  
        c200.addActionListener(handler);
        c360.addActionListener(handler);
        reset.addActionListener(handler);
                     
           // ZONA "DATI PAZIENTE"
       p1.setLayout(new GridLayout(5,3,0, 1));
           p1.add(new JLabel("Name: "));
       p1.add(name = new JTextField(20));
       p1.add(new JLabel("Surname: "));
       p1.add(surname = new JTextField(20));
       p1.add(new JLabel("date of birth: "));
       p1.add(birthDate = new JFormattedTextField(formatoData));    
        birthDate.setText("dd/mm/yyyy");
       p1.add(male = new JRadioButton("male"));
       p1.add(female = new JRadioButton("female"));
       ButtonGroup groupMF = new ButtonGroup();
       groupMF.add(male);
       groupMF.add(female);
       p1.add(print = new JButton("PRINT"));
       p1.add(reset = new JButton("RESET"));
       print.setEnabled(false);
       p1.setBorder(new TitledBorder("1: Subject Data"));
            
           //ZONe "OPERATIONS"
       GridBagLayout p3Layout = new GridBagLayout();
       GridBagConstraints p3Cons = new GridBagConstraints();
       p3.setLayout(p3Layout);
           p3.setBorder(new TitledBorder("3: Actions"));
 
        p3Cons.gridx = 1;
        p3Cons.gridy = 0;
        p3.add(c200 = new JButton("200 JOULE"));
        p3Cons.weightx = 2;    
        p3Layout.setConstraints(c200, p3Cons);
        
       c200.setEnabled(false);
 
       p3.add(c360 = new JButton("360 JOULE"));
       p3Cons.gridx = 2;
       p3Cons.gridy = 0;   
       p3Cons.weightx = 2;
       p3Layout.setConstraints(c360, p3Cons);
            
       c360.setEnabled(false);
        
           p3Cons.gridx = 1;
       p3Cons.gridy = 2;
        p3Cons.insets.top = 8;
        p3Cons.insets.bottom = 5;
        p3Cons.insets.left = 5;
        p3Cons.insets.right = 5;
        p3Cons.weightx = 2;
        p3.add(charge = new JButton("      CHARGE      "));
       p3Layout.setConstraints(charge, p3Cons);
            
       charge.setEnabled(false);        
        
       p3Cons.gridx = 2;
       p3Cons.gridy = 2;
        p3Cons.insets.top = 5;
        p3Cons.insets.bottom = 5;
        p3Cons.insets.left = 0;
        p3Cons.insets.right = 5;
        p3Cons.weightx = 2;
       p3.add(pbar);
       p3Layout.setConstraints(pbar, p3Cons);
            
         
     
           p3Cons.gridx = 1;
       p3Cons.gridy = 4;
        p3.add(release = new JButton("      RELEASE      "));
        p3Cons.weightx = 1;    
        p3Layout.setConstraints(release, p3Cons);
        
       release.setEnabled(false);
         
           //ZONe "PROBLEM"
           r1.setLayout(new GridLayout(5,1,0,1));
           r1.add(rs = new JRadioButton("Sinusale Rhythm"));
           r1.add(fv = new JRadioButton("Ventricular Fibrillation"));
           r1.add(tv = new JRadioButton("Ventricular Tachicardia"));
       r1.add(polso);
       polso.setEnabled(false);
        
           display = new JLabel(
           "1.Input subject data. 2. choose arithmia 3. Proceed");
       display.setOpaque(true);
       display.setForeground(Color.GREEN);
       display.setBackground(Color.BLACK);
       r1.add(display);
       r1.setBorder(new TitledBorder("2: Arithmia"));
                
        //Gruppo dei RadioButton
        ButtonGroup group = new ButtonGroup();
        group.add(rs);
        group.add(fv);
        group.add(tv);
 
        //Layout pannello principale
        JPanel pMain = new JPanel();
        pMain.setLayout(new BorderLayout());
        add(p1, BorderLayout.NORTH);           
        add(r1, BorderLayout.CENTER);
        add(p3, BorderLayout.SOUTH);
         
 
                }
 // END CONSTRUCTOR
 
public static void main(String[] args) {
           EsdGUI frame = new EsdGUI();
       frame.pack();
           frame.setLocationRelativeTo(null);
           frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
           frame.setSize(490, 575);
           frame.setVisible(true);
     
            }   } 