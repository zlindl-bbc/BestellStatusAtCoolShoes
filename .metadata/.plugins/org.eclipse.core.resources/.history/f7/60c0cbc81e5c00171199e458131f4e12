package ch.it.bzz.coolshoes.util;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

import ch.it.bzz.coolshoes.exception.CoolShoesException;

public class ConnectionFactory {

  private static Connection connection;

  public static Connection getConnection() {
    String path = "../../../../../../Database/CoolShoes.accdb";

    try {
      // Connect database with connector
      Class.forName("net.ucanaccess.jdbc.UcanaccessDriver");
      connection = DriverManager.getConnection("jdbc:ucanaccess://" + path);
    } catch (ClassNotFoundException error) {
      // the driver class is currently not available
      throw new CoolShoesException("Treiber kann nicht gelesen werden.", error.toString());
    } catch (SQLException error) {
      // the database cannot be contacted
      // caused of a wrong name, wrong path, wrong driver,...
      throw new CoolShoesException("Verbindung kann nicht aufgebaut werden.", error.toString());
    }
    return connection;
  }

 
}
